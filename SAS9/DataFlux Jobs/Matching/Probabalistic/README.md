## (DataFlux) Probabilistic (Suggestion) based Matching

#### Description

------

The Probabilistic (Suggestion) based matching is a good example of how you can use the suggestion based functionality of the QKB's match coding process when you only have a single Name token and nothing else to help determine if names are a match.  In this situation we go beyond just the natural fuzziness of the QKB for name match coding and look to its ability to find matches by varying the sensitivities and scoring the output without human intervention. 

The job starts with a Job Specific data node that is creating an 11 record data set of names.  This data set gives several different groupings of names that a human might cluster together because of name misspellings, but a typical matching program just looking at the data would not consider duplicate records. 
![Input Data](C:\temp\github\sas-dqdg-assets-github\SAS9\DataFlux Jobs\Matching\Probabalistic\img\probabalistic_input_data.jpg)

We add a standardization node to the workflow and then we choose the Name (with Suggestions) definition.  This definition will perform all the standardization work that the typical Name definition does, but then it will use "suggestions" to create what it thinks are likely matches by varying the .  When you run this step you will not only get the typical Name matchcode that you are anticipating, but you will also see a host other names that are generated by varying the sensitivity score.  A by product of this suggestion is the creation of a Name Matchcode Score.  
![Input Data](C:\temp\github\sas-dqdg-assets-github\SAS9\DataFlux Jobs\Matching\Probabalistic\img\probabalistic_matchcodes_suggestions.jpg)

When we get to the clustering node, we now will match on the Name MatchCode to try and pull the different spelling variations, when appropriate into the appropriate cluster.  In the example below, you can see that Robert J. Smith and Rovert Sjith fall into the same cluster.
![Input Data](C:\temp\github\sas-dqdg-assets-github\SAS9\DataFlux Jobs\Matching\Probabalistic\img\probabalistic_clustered_results.jpg)

When we get to the Cluster Aggregation step, you will see that we choose a scoring method and scoring Algorithm to pull everything back together and end with the same records we started with being clustered appropriately as a human would given the assumptions about name misspellings.  NOTE:  Suggestion or Probabalistic based matching using the QKB is not an exact science.  The challenge here is that we use the QKB to cast a wide net looking for duplicates.  Quite often what you will end up over or under matching.  In this scenario all of the names that we can see as duplicates did match, but that is not always the case.

![Input Data](C:\temp\github\sas-dqdg-assets-github\SAS9\DataFlux Jobs\Matching\Probabalistic\img\probabalistic_aggregated_results.jpg)

 

![GITLAB Image](./img/Screenshot_1_2.jpg)




| Job Specifics    | Explanation                                |
| ---------------- | ------------------------------------------ |
| Data Source      | Job Specific data contained within the job |
| QKB Version      | CI33                                       |
| DataFlux version | 2.10                                       |

#### Change Log

------

Version 1.0 (10/09/2025)

- Initial Version